# 容器类

## 引言

Qt 提供了一系列基于模板的通用容器类，可以用于存储指定类型的元素。例如，如果你需要一个可动态调整大小的[QString]()数组，那么你可以使用[QVector<QString>]()。

这些类的设计目标是比 STL 容器更轻量，更安全，更易用。如果你不熟悉 STL，或想更有“ Qt 范”，使用这些类代替 STL 会是更好的选择。

这些类都是[隐式共享]()和[可重入]()的，并且针对几个方面做了优化，一是速度，二是较低的内存占用，三是尽可能少的内联代码，减少生成程序的体积。另外，在所有线程都以只读的方式访问容器时，这些类是线程安全的。

要遍历容器中的元素，你可以使用两种风格的迭代器：[Java 风格的迭代器]()和[ STL 风格的迭代器]()。Java 风格的迭代器有更好的易用性和更高级的函数，而 STL 风格的迭代器则在效率上会略有优势，并且可以用于 Qt 和 STL 提供的[泛型算法]()中。

Qt 还提供了[foreach]()关键字，可以方便地遍历容器。

**注**：从 Qt 5.14 开始，绝大部分容器类已经支持范围构造函数，但需要注意的是[QMultiMap]()是一个例外。我们推荐使用该特性代替各种通过循环赋值对容器初始化。例如：

```cpp
QVector<int> vector{1, 2, 3, 4, 4, 5};
QSet<int> set(vector.begin(), vector.end());
/*
    Will generate a QSet containing 1, 2, 4, 5.
*/
```
